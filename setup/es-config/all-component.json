PUT _component_template/dbeast-mon-default-settings-component
{
  "template": {
    "settings": {
      "index": {
		"codec" : "best_compression",
        "refresh_interval" : "30s",
        "number_of_shards": "1",
        "number_of_replicas": "1"
      }
    }
  }
}

PUT _component_template/dbeast-mon-elastic-index-stats-custom-mapping-component
{
  "template": {
    "settings": {
      "index": {
        "mapping": {
          "total_fields": {
            "limit": "10000"
          }
        }
      }
    },
    "mappings": {
      "dynamic_templates": [],
      "properties": {
        "@timestamp": {
          "type": "date",
          "index": true,
          "ignore_malformed": false,
          "doc_values": true,
          "store": false
        },
        "elasticsearch": {
          "type": "object",
          "properties": {
            "bulk_avg_size_in_bytes": {
              "type": "long"
            },
            "bulk_avg_time": {
              "type": "long"
            },
            "bulk_total_operations": {
              "type": "long"
            },
            "bulk_total_size_in_bytes": {
              "type": "long"
            },
            "bulk_total_time": {
              "type": "long"
            },
            "cluster": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            },
            "completion_size": {
              "type": "long"
            },
            "creation_date_string": {
              "type": "date"
            },
            "docs_deleted": {
              "type": "long"
            },
            "fielddata_evictions": {
              "type": "long"
            },
            "fielddata_memory_size": {
              "type": "long"
            },
            "flush_total": {
              "type": "long"
            },
            "flush_total_time": {
              "type": "long"
            },
            "get_exists_time": {
              "type": "long"
            },
            "get_exists_total": {
              "type": "long"
            },
            "get_missing_total": {
              "type": "long"
            },
            "get_time": {
              "type": "long"
            },
            "index": {
              "type": "object",
              "properties": {
                "created": {
                  "type": "date"
                },
                "index_pattern": {
                  "type": "keyword",
                  "ignore_above": 256
                },
                "name": {
                  "type": "keyword",
                  "ignore_above": 256
                },
                "primaries": {
                  "type": "object",
                  "properties": {
                    "docs": {
                      "type": "object",
                      "properties": {
                        "ingest_rate": {
                          "type": "long"
                        }
                      }
                    },
                    "get": {
                      "type": "object",
                      "properties": {
                        "current": {
                          "type": "long"
                        },
                        "missing_time": {
                          "type": "long"
                        },
                        "total": {
                          "type": "long"
                        }
                      }
                    },
                    "indexing": {
                      "type": "object",
                      "properties": {
                        "delete_rate": {
                          "type": "long"
                        },
                        "delete_total": {
                          "type": "long"
                        },
                        "failed_total": {
                          "type": "long"
                        },
                        "index_current": {
                          "type": "long"
                        },
                        "index_failed": {
                          "type": "long"
                        },
                        "index_last_period": {
                          "type": "long"
                        },
                        "index_latency": {
                          "type": "long"
                        },
                        "index_rate": {
                          "type": "long"
                        },
                        "index_time_in_millis": {
                          "type": "long"
                        },
                        "index_total": {
                          "type": "long"
                        }
                      }
                    },
                    "merges": {
                      "type": "object",
                      "properties": {
                        "current": {
                          "type": "long"
                        }
                      }
                    },
                    "refresh": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "long"
                        }
                      }
                    },
                    "request_cache": {
                      "type": "object",
                      "properties": {
                        "evictions": {
                          "type": "long"
                        }
                      }
                    },
                    "search": {
                      "type": "object",
                      "properties": {
                        "fetch_last_period": {
                          "type": "long"
                        },
                        "fetch_latency": {
                          "type": "long"
                        },
                        "fetch_rate": {
                          "type": "long"
                        },
                        "fetch_time_in_millis": {
                          "type": "long"
                        },
                        "fetch_total": {
                          "type": "long"
                        },
                        "query_last_period": {
                          "type": "long"
                        },
                        "query_latency": {
                          "type": "long"
                        },
                        "query_rate": {
                          "type": "long"
                        },
                        "query_time_in_millis": {
                          "type": "long"
                        },
                        "query_total": {
                          "type": "long"
                        }
                      }
                    },
                    "store": {
                      "type": "object",
                      "properties": {
                        "ingest_rate": {
                          "type": "long"
                        },
                        "size_in_bytes": {
                          "type": "long"
                        }
                      }
                    }
                  }
                },
                "shards": {
                  "type": "object",
                  "properties": {
                    "primaries": {
                      "type": "long"
                    },
                    "replica": {
                      "type": "long"
                    },
                    "total": {
                      "type": "long"
                    }
                  }
                },
                "status": {
                  "type": "keyword",
                  "ignore_above": 256
                },
                "health": {
                  "type": "keyword",
                  "ignore_above": 256
                },
                "summary": {
                  "type": "object",
                  "properties": {
                    "primaries": {
                      "type": "object",
                      "properties": {
                        "bulk": {
                          "type": "object",
                          "properties": {
                            "avg_size_in_bytes": {
                              "type": "long"
                            },
                            "avg_time_in_millis": {
                              "type": "long"
                            },
                            "total_operations": {
                              "type": "long"
                            },
                            "total_size_in_bytes": {
                              "type": "long"
                            },
                            "total_time_in_millis": {
                              "type": "long"
                            }
                          }
                        },
                        "completion": {
                          "type": "object",
                          "properties": {
                            "size_in_bytes": {
                              "type": "long"
                            }
                          }
                        },
                        "docs": {
                          "type": "object",
                          "properties": {
                            "count": {
                              "type": "long"
                            },
                            "deleted": {
                              "type": "long"
                            },
                            "ingest_rate": {
                              "type": "long"
                            }
                          }
                        },
                        "fielddata": {
                          "type": "object",
                          "properties": {
                            "evictions": {
                              "type": "long"
                            },
                            "global_ordinals": {
                              "type": "object",
                              "properties": {
                                "build_time_in_millis": {
                                  "type": "long"
                                }
                              }
                            },
                            "memory_size_in_bytes": {
                              "type": "long"
                            }
                          }
                        },
                        "flush": {
                          "type": "object",
                          "properties": {
                            "periodic": {
                              "type": "long"
                            },
                            "total": {
                              "type": "long"
                            },
                            "total_time_in_millis": {
                              "type": "long"
                            }
                          }
                        },
                        "get": {
                          "type": "object",
                          "properties": {
                            "current": {
                              "type": "long"
                            },
                            "exists_time_in_millis": {
                              "type": "long"
                            },
                            "exists_total": {
                              "type": "long"
                            },
                            "missing_time_in_millis": {
                              "type": "long"
                            },
                            "missing_total": {
                              "type": "long"
                            },
                            "time_in_millis": {
                              "type": "long"
                            },
                            "total": {
                              "type": "long"
                            }
                          }
                        },
                        "indexing": {
                          "type": "object",
                          "properties": {
                            "delete_current": {
                              "type": "long"
                            },
                            "delete_time_in_millis": {
                              "type": "long"
                            },
                            "delete_total": {
                              "type": "long"
                            },
                            "index_current": {
                              "type": "long"
                            },
                            "index_failed": {
                              "type": "long"
                            },
                            "index_rate": {
                              "type": "long"
                            },
                            "index_time_in_millis": {
                              "type": "long"
                            },
                            "index_total": {
                              "type": "long"
                            },
                            "is_throttled": {
                              "type": "boolean"
                            },
                            "noop_update_total": {
                              "type": "long"
                            },
                            "throttle_time_in_millis": {
                              "type": "long"
                            },
                            "write_load": {
                              "type": "double"
                            }
                          }
                        },
                        "merges": {
                          "type": "object",
                          "properties": {
                            "current": {
                              "type": "long"
                            },
                            "current_docs": {
                              "type": "long"
                            },
                            "current_size_in_bytes": {
                              "type": "long"
                            },
                            "total": {
                              "type": "long"
                            },
                            "total_auto_throttle_in_bytes": {
                              "type": "long"
                            },
                            "total_docs": {
                              "type": "long"
                            },
                            "total_size_in_bytes": {
                              "type": "long"
                            },
                            "total_stopped_time_in_millis": {
                              "type": "long"
                            },
                            "total_throttled_time_in_millis": {
                              "type": "long"
                            },
                            "total_time_in_millis": {
                              "type": "long"
                            }
                          }
                        },
                        "query_cache": {
                          "type": "object",
                          "properties": {
                            "cache_count": {
                              "type": "long"
                            },
                            "cache_size": {
                              "type": "long"
                            },
                            "evictions": {
                              "type": "long"
                            },
                            "hit_count": {
                              "type": "long"
                            },
                            "memory_size_in_bytes": {
                              "type": "long"
                            },
                            "miss_count": {
                              "type": "long"
                            },
                            "total_count": {
                              "type": "long"
                            }
                          }
                        },
                        "recovery": {
                          "type": "object",
                          "properties": {
                            "current_as_source": {
                              "type": "long"
                            },
                            "current_as_target": {
                              "type": "long"
                            },
                            "throttle_time_in_millis": {
                              "type": "long"
                            }
                          }
                        },
                        "refresh": {
                          "type": "object",
                          "properties": {
                            "external_total": {
                              "type": "long"
                            },
                            "external_total_time_in_millis": {
                              "type": "long"
                            },
                            "listeners": {
                              "type": "long"
                            },
                            "total": {
                              "type": "long"
                            },
                            "total_time_in_millis": {
                              "type": "long"
                            }
                          }
                        },
                        "request_cache": {
                          "type": "object",
                          "properties": {
                            "evictions": {
                              "type": "long"
                            },
                            "hit_count": {
                              "type": "long"
                            },
                            "memory_size_in_bytes": {
                              "type": "long"
                            },
                            "miss_count": {
                              "type": "long"
                            }
                          }
                        },
                        "search": {
                          "type": "object",
                          "properties": {
                            "fetch_current": {
                              "type": "long"
                            },
                            "fetch_time_in_millis": {
                              "type": "long"
                            },
                            "fetch_total": {
                              "type": "long"
                            },
                            "open_contexts": {
                              "type": "long"
                            },
                            "query_current": {
                              "type": "long"
                            },
                            "query_rate": {
                              "type": "long"
                            },
                            "query_time_in_millis": {
                              "type": "long"
                            },
                            "query_total": {
                              "type": "long"
                            },
                            "scroll_current": {
                              "type": "long"
                            },
                            "scroll_time_in_millis": {
                              "type": "long"
                            },
                            "scroll_total": {
                              "type": "long"
                            },
                            "suggest_current": {
                              "type": "long"
                            },
                            "suggest_time_in_millis": {
                              "type": "long"
                            },
                            "suggest_total": {
                              "type": "long"
                            }
                          }
                        },
                        "segments": {
                          "type": "object",
                          "properties": {
                            "count": {
                              "type": "long"
                            },
                            "doc_values_memory_in_bytes": {
                              "type": "long"
                            },
                            "file_sizes": {
                              "type": "object"
                            },
                            "fixed_bit_set_memory_in_bytes": {
                              "type": "long"
                            },
                            "index_writer_memory_in_bytes": {
                              "type": "long"
                            },
                            "max_unsafe_auto_id_timestamp": {
                              "type": "date"
                            },
                            "memory_in_bytes": {
                              "type": "long"
                            },
                            "norms_memory_in_bytes": {
                              "type": "long"
                            },
                            "points_memory_in_bytes": {
                              "type": "long"
                            },
                            "stored_fields_memory_in_bytes": {
                              "type": "long"
                            },
                            "term_vectors_memory_in_bytes": {
                              "type": "long"
                            },
                            "terms_memory_in_bytes": {
                              "type": "long"
                            },
                            "version_map_memory_in_bytes": {
                              "type": "long"
                            }
                          }
                        },
                        "shard_stats": {
                          "type": "object",
                          "properties": {
                            "total_count": {
                              "type": "long"
                            }
                          }
                        },
                        "store": {
                          "type": "object",
                          "properties": {
                            "reserved_in_bytes": {
                              "type": "long"
                            },
                            "size_in_bytes": {
                              "type": "long"
                            },
                            "total_data_set_size_in_bytes": {
                              "type": "long"
                            }
                          }
                        },
                        "translog": {
                          "type": "object",
                          "properties": {
                            "earliest_last_modified_age": {
                              "type": "long"
                            },
                            "operations": {
                              "type": "long"
                            },
                            "size_in_bytes": {
                              "type": "long"
                            },
                            "uncommitted_operations": {
                              "type": "long"
                            },
                            "uncommitted_size_in_bytes": {
                              "type": "long"
                            }
                          }
                        },
                        "warmer": {
                          "type": "object",
                          "properties": {
                            "current": {
                              "type": "long"
                            },
                            "total": {
                              "type": "long"
                            },
                            "total_time_in_millis": {
                              "type": "long"
                            }
                          }
                        }
                      }
                    },
                    "total": {
                      "type": "object",
                      "properties": {
                        "bulk": {
                          "type": "object",
                          "properties": {
                            "avg_size_in_bytes": {
                              "type": "long"
                            },
                            "avg_time_in_millis": {
                              "type": "long"
                            },
                            "total_operations": {
                              "type": "long"
                            },
                            "total_size_in_bytes": {
                              "type": "long"
                            },
                            "total_time_in_millis": {
                              "type": "long"
                            }
                          }
                        },
                        "completion": {
                          "type": "object",
                          "properties": {
                            "size_in_bytes": {
                              "type": "long"
                            }
                          }
                        },
                        "docs": {
                          "type": "object",
                          "properties": {
                            "count": {
                              "type": "long"
                            },
                            "deleted": {
                              "type": "long"
                            },
                            "ingest_rate": {
                              "type": "long"
                            }
                          }
                        },
                        "fielddata": {
                          "type": "object",
                          "properties": {
                            "evictions": {
                              "type": "long"
                            },
                            "global_ordinals": {
                              "type": "object",
                              "properties": {
                                "build_time_in_millis": {
                                  "type": "long"
                                }
                              }
                            },
                            "memory_size_in_bytes": {
                              "type": "long"
                            }
                          }
                        },
                        "flush": {
                          "type": "object",
                          "properties": {
                            "periodic": {
                              "type": "long"
                            },
                            "total": {
                              "type": "long"
                            },
                            "total_time_in_millis": {
                              "type": "long"
                            }
                          }
                        },
                        "get": {
                          "type": "object",
                          "properties": {
                            "current": {
                              "type": "long"
                            },
                            "exists_time_in_millis": {
                              "type": "long"
                            },
                            "exists_total": {
                              "type": "long"
                            },
                            "missing_time_in_millis": {
                              "type": "long"
                            },
                            "missing_total": {
                              "type": "long"
                            },
                            "time_in_millis": {
                              "type": "long"
                            },
                            "total": {
                              "type": "long"
                            }
                          }
                        },
                        "indexing": {
                          "type": "object",
                          "properties": {
                            "delete_current": {
                              "type": "long"
                            },
                            "delete_time_in_millis": {
                              "type": "long"
                            },
                            "delete_total": {
                              "type": "long"
                            },
                            "index_current": {
                              "type": "long"
                            },
                            "index_failed": {
                              "type": "long"
                            },
                            "index_rate": {
                              "type": "long"
                            },
                            "index_time_in_millis": {
                              "type": "long"
                            },
                            "index_total": {
                              "type": "long"
                            },
                            "is_throttled": {
                              "type": "boolean"
                            },
                            "noop_update_total": {
                              "type": "long"
                            },
                            "throttle_time_in_millis": {
                              "type": "long"
                            },
                            "write_load": {
                              "type": "double"
                            }
                          }
                        },
                        "merges": {
                          "type": "object",
                          "properties": {
                            "current": {
                              "type": "long"
                            },
                            "current_docs": {
                              "type": "long"
                            },
                            "current_size_in_bytes": {
                              "type": "long"
                            },
                            "total": {
                              "type": "long"
                            },
                            "total_auto_throttle_in_bytes": {
                              "type": "long"
                            },
                            "total_docs": {
                              "type": "long"
                            },
                            "total_size_in_bytes": {
                              "type": "long"
                            },
                            "total_stopped_time_in_millis": {
                              "type": "long"
                            },
                            "total_throttled_time_in_millis": {
                              "type": "long"
                            },
                            "total_time_in_millis": {
                              "type": "long"
                            }
                          }
                        },
                        "query_cache": {
                          "type": "object",
                          "properties": {
                            "cache_count": {
                              "type": "long"
                            },
                            "cache_size": {
                              "type": "long"
                            },
                            "evictions": {
                              "type": "long"
                            },
                            "hit_count": {
                              "type": "long"
                            },
                            "memory_size_in_bytes": {
                              "type": "long"
                            },
                            "miss_count": {
                              "type": "long"
                            },
                            "total_count": {
                              "type": "long"
                            }
                          }
                        },
                        "recovery": {
                          "type": "object",
                          "properties": {
                            "current_as_source": {
                              "type": "long"
                            },
                            "current_as_target": {
                              "type": "long"
                            },
                            "throttle_time_in_millis": {
                              "type": "long"
                            }
                          }
                        },
                        "refresh": {
                          "type": "object",
                          "properties": {
                            "external_total": {
                              "type": "long"
                            },
                            "external_total_time_in_millis": {
                              "type": "long"
                            },
                            "listeners": {
                              "type": "long"
                            },
                            "total": {
                              "type": "long"
                            },
                            "total_time_in_millis": {
                              "type": "long"
                            }
                          }
                        },
                        "request_cache": {
                          "type": "object",
                          "properties": {
                            "evictions": {
                              "type": "long"
                            },
                            "hit_count": {
                              "type": "long"
                            },
                            "memory_size_in_bytes": {
                              "type": "long"
                            },
                            "miss_count": {
                              "type": "long"
                            }
                          }
                        },
                        "search": {
                          "type": "object",
                          "properties": {
                            "fetch_current": {
                              "type": "long"
                            },
                            "fetch_time_in_millis": {
                              "type": "long"
                            },
                            "fetch_total": {
                              "type": "long"
                            },
                            "open_contexts": {
                              "type": "long"
                            },
                            "query_current": {
                              "type": "long"
                            },
                            "query_rate": {
                              "type": "long"
                            },
                            "query_time_in_millis": {
                              "type": "long"
                            },
                            "query_total": {
                              "type": "long"
                            },
                            "scroll_current": {
                              "type": "long"
                            },
                            "scroll_time_in_millis": {
                              "type": "long"
                            },
                            "scroll_total": {
                              "type": "long"
                            },
                            "suggest_current": {
                              "type": "long"
                            },
                            "suggest_time_in_millis": {
                              "type": "long"
                            },
                            "suggest_total": {
                              "type": "long"
                            }
                          }
                        },
                        "segments": {
                          "type": "object",
                          "properties": {
                            "count": {
                              "type": "long"
                            },
                            "doc_values_memory_in_bytes": {
                              "type": "long"
                            },
                            "fixed_bit_set_memory_in_bytes": {
                              "type": "long"
                            },
                            "index_writer_memory_in_bytes": {
                              "type": "long"
                            },
                            "max_unsafe_auto_id_timestamp": {
                              "type": "date"
                            },
                            "memory_in_bytes": {
                              "type": "long"
                            },
                            "norms_memory_in_bytes": {
                              "type": "long"
                            },
                            "points_memory_in_bytes": {
                              "type": "long"
                            },
                            "stored_fields_memory_in_bytes": {
                              "type": "long"
                            },
                            "term_vectors_memory_in_bytes": {
                              "type": "long"
                            },
                            "terms_memory_in_bytes": {
                              "type": "long"
                            },
                            "version_map_memory_in_bytes": {
                              "type": "long"
                            }
                          }
                        },
                        "shard_stats": {
                          "type": "object",
                          "properties": {
                            "total_count": {
                              "type": "long"
                            }
                          }
                        },
                        "store": {
                          "type": "object",
                          "properties": {
                            "reserved_in_bytes": {
                              "type": "long"
                            },
                            "size_in_bytes": {
                              "type": "long"
                            },
                            "total_data_set_size_in_bytes": {
                              "type": "long"
                            }
                          }
                        },
                        "translog": {
                          "type": "object",
                          "properties": {
                            "earliest_last_modified_age": {
                              "type": "long"
                            },
                            "operations": {
                              "type": "long"
                            },
                            "size_in_bytes": {
                              "type": "long"
                            },
                            "uncommitted_operations": {
                              "type": "long"
                            },
                            "uncommitted_size_in_bytes": {
                              "type": "long"
                            }
                          }
                        },
                        "warmer": {
                          "type": "object",
                          "properties": {
                            "current": {
                              "type": "long"
                            },
                            "total": {
                              "type": "long"
                            },
                            "total_time_in_millis": {
                              "type": "long"
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "total": {
                  "type": "object",
                  "properties": {
                    "docs": {
                      "type": "object",
                      "properties": {
                        "count": {
                          "type": "long"
                        },
                        "ingest_rate": {
                          "type": "long"
                        }
                      }
                    },
                    "get": {
                      "type": "object",
                      "properties": {
                        "current": {
                          "type": "long"
                        },
                        "missing_time": {
                          "type": "long"
                        },
                        "total": {
                          "type": "long"
                        }
                      }
                    },
                    "indexing": {
                      "type": "object",
                      "properties": {
                        "delete_rate": {
                          "type": "long"
                        },
                        "delete_total": {
                          "type": "long"
                        },
                        "failed_total": {
                          "type": "long"
                        },
                        "index_current": {
                          "type": "long"
                        },
                        "index_failed": {
                          "type": "long"
                        },
                        "index_last_period": {
                          "type": "long"
                        },
                        "index_latency": {
                          "type": "long"
                        },
                        "index_rate": {
                          "type": "long"
                        },
                        "index_time_in_millis": {
                          "type": "long"
                        },
                        "index_total": {
                          "type": "long"
                        }
                      }
                    },
                    "merges": {
                      "type": "object",
                      "properties": {
                        "current": {
                          "type": "long"
                        }
                      }
                    },
                    "refresh": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "long"
                        }
                      }
                    },
                    "request_cache": {
                      "type": "object",
                      "properties": {
                        "evictions": {
                          "type": "long"
                        }
                      }
                    },
                    "search": {
                      "type": "object",
                      "properties": {
                        "fetch_last_period": {
                          "type": "long"
                        },
                        "fetch_latency": {
                          "type": "long"
                        },
                        "fetch_rate": {
                          "type": "long"
                        },
                        "fetch_time_in_millis": {
                          "type": "long"
                        },
                        "fetch_total": {
                          "type": "long"
                        },
                        "query_last_period": {
                          "type": "long"
                        },
                        "query_latency": {
                          "type": "long"
                        },
                        "query_rate": {
                          "type": "long"
                        },
                        "query_time_in_millis": {
                          "type": "long"
                        },
                        "query_total": {
                          "type": "long"
                        }
                      }
                    },
                    "store": {
                      "type": "object",
                      "properties": {
                        "ingest_rate": {
                          "type": "long"
                        },
                        "size_in_bytes": {
                          "type": "long"
                        }
                      }
                    }
                  }
                },
                "uuid": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            },
            "indexing_delete_current": {
              "type": "long"
            },
            "indexing_delete_time": {
              "type": "long"
            },
            "memory_total": {
              "type": "long"
            },
            "merges_current_docs": {
              "type": "long"
            },
            "merges_current_size": {
              "type": "long"
            },
            "merges_total": {
              "type": "long"
            },
            "merges_total_docs": {
              "type": "long"
            },
            "merges_total_size": {
              "type": "keyword",
              "ignore_above": 256
            },
            "merges_total_time": {
              "type": "long"
            },
            "pri_bulk_avg_size_in_bytes": {
              "type": "long"
            },
            "pri_bulk_avg_time": {
              "type": "long"
            },
            "pri_bulk_total_operations": {
              "type": "long"
            },
            "pri_bulk_total_size_in_bytes": {
              "type": "long"
            },
            "pri_bulk_total_time": {
              "type": "long"
            },
            "pri_completion_size": {
              "type": "long"
            },
            "pri_fielddata_evictions": {
              "type": "long"
            },
            "pri_fielddata_memory_size": {
              "type": "long"
            },
            "pri_flush_total": {
              "type": "long"
            },
            "pri_flush_total_time": {
              "type": "long"
            },
            "pri_get_exists_time": {
              "type": "long"
            },
            "pri_get_exists_total": {
              "type": "long"
            },
            "pri_get_missing_total": {
              "type": "long"
            },
            "pri_get_time": {
              "type": "long"
            },
            "pri_indexing_delete_current": {
              "type": "long"
            },
            "pri_indexing_delete_time": {
              "type": "long"
            },
            "pri_memory_total": {
              "type": "long"
            },
            "pri_merges_current_docs": {
              "type": "long"
            },
            "pri_merges_current_size": {
              "type": "long"
            },
            "pri_merges_total": {
              "type": "long"
            },
            "pri_merges_total_docs": {
              "type": "long"
            },
            "pri_merges_total_size": {
              "type": "keyword",
              "ignore_above": 256
            },
            "pri_merges_total_time": {
              "type": "long"
            },
            "pri_query_cache_evictions": {
              "type": "long"
            },
            "pri_query_cache_memory_size": {
              "type": "long"
            },
            "pri_refresh_external_time": {
              "type": "long"
            },
            "pri_refresh_external_total": {
              "type": "long"
            },
            "pri_refresh_listeners": {
              "type": "long"
            },
            "pri_refresh_time": {
              "type": "long"
            },
            "pri_request_cache_hit_count": {
              "type": "long"
            },
            "pri_request_cache_memory_size": {
              "type": "long"
            },
            "pri_request_cache_miss_count": {
              "type": "long"
            },
            "pri_search_fetch_current": {
              "type": "long"
            },
            "pri_search_open_contexts": {
              "type": "long"
            },
            "pri_search_query_current": {
              "type": "long"
            },
            "pri_search_scroll_current": {
              "type": "long"
            },
            "pri_search_scroll_time": {
              "type": "long"
            },
            "pri_search_scroll_total": {
              "type": "long"
            },
            "pri_segments_count": {
              "type": "long"
            },
            "pri_segments_fixed_bitset_memory": {
              "type": "long"
            },
            "pri_segments_index_writer_memory": {
              "type": "long"
            },
            "pri_segments_memory": {
              "type": "long"
            },
            "pri_segments_version_map_memory": {
              "type": "long"
            },
            "pri_suggest_current": {
              "type": "long"
            },
            "pri_suggest_time": {
              "type": "long"
            },
            "pri_suggest_total": {
              "type": "long"
            },
            "pri_warmer_current": {
              "type": "long"
            },
            "pri_warmer_total": {
              "type": "long"
            },
            "pri_warmer_total_time": {
              "type": "long"
            },
            "query_cache_evictions": {
              "type": "long"
            },
            "query_cache_memory_size": {
              "type": "long"
            },
            "refresh_external_time": {
              "type": "long"
            },
            "refresh_external_total": {
              "type": "long"
            },
            "refresh_listeners": {
              "type": "long"
            },
            "refresh_time": {
              "type": "long"
            },
            "rep": {
              "type": "long"
            },
            "request_cache_hit_count": {
              "type": "long"
            },
            "request_cache_memory_size": {
              "type": "long"
            },
            "request_cache_miss_count": {
              "type": "long"
            },
            "sample_date": {
              "type": "date"
            },
            "search_fetch_current": {
              "type": "long"
            },
            "search_open_contexts": {
              "type": "long"
            },
            "search_query_current": {
              "type": "long"
            },
            "search_scroll_current": {
              "type": "long"
            },
            "search_scroll_time": {
              "type": "long"
            },
            "search_scroll_total": {
              "type": "long"
            },
            "search_throttled": {
              "type": "boolean"
            },
            "segments_count": {
              "type": "long"
            },
            "segments_fixed_bitset_memory": {
              "type": "long"
            },
            "segments_index_writer_memory": {
              "type": "long"
            },
            "segments_memory": {
              "type": "long"
            },
            "segments_version_map_memory": {
              "type": "long"
            },
            "suggest_current": {
              "type": "long"
            },
            "suggest_time": {
              "type": "long"
            },
            "suggest_total": {
              "type": "long"
            },
            "tags": {
              "type": "keyword",
              "ignore_above": 256
            },
            "warmer_current": {
              "type": "long"
            },
            "warmer_total": {
              "type": "long"
            },
            "warmer_total_time": {
              "type": "long"
            }
          }
        },
        "event": {
          "type": "object",
          "properties": {
            "dataset": {
              "type": "keyword",
              "ignore_above": 256
            },
            "module": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "sample_date": {
          "type": "date"
        }
      }
    }
  },
  "_meta": {
    "description": "default mappings for the monitoring ecs indices"
  }
}

PUT _component_template/dbeast-mon-elastic-shards-stats-custom-mapping-component
{
  "template": {
    "settings": {
      "index": {
        "mapping": {
          "total_fields": {
            "limit": "10000"
          }
        }
      }
    },
    "mappings": {
      "dynamic_templates": [],
      "properties": {
        "@timestamp": {
          "type": "date",
          "index": true,
          "ignore_malformed": false,
          "doc_values": true,
          "store": false
        },
        "date_diff": {
          "type": "long"
        },
        "elasticsearch": {
          "type": "object",
          "properties": {
            "cluster": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            },
            "index": {
              "type": "object",
              "properties": {
                "index_pattern": {
                  "type": "keyword",
                  "ignore_above": 256
                },
                "name": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            },
            "node": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "keyword",
                  "ignore_above": 256
                },
                "ip": {
                  "type": "ip"
                },
                "name": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            },
            "shard": {
              "type": "object",
              "properties": {
                "docs": {
                  "type": "object",
                  "properties": {
                    "count": {
                      "type": "long"
                    },
                    "ingest_rate": {
                      "type": "long"
                    }
                  }
                },
                "get": {
                  "type": "object",
                  "properties": {
                    "current": {
                      "type": "long"
                    },
                    "exists_time": {
                      "type": "long"
                    },
                    "exists_total": {
                      "type": "long"
                    },
                    "missing_time": {
                      "type": "long"
                    },
                    "missing_total": {
                      "type": "long"
                    },
                    "time": {
                      "type": "long"
                    },
                    "total": {
                      "type": "long"
                    }
                  }
                },
                "indexing": {
                  "type": "object",
                  "properties": {
                    "delete_current": {
                      "type": "long"
                    },
                    "delete_rate": {
                      "type": "long"
                    },
                    "delete_time": {
                      "type": "long"
                    },
                    "delete_total": {
                      "type": "long"
                    },
                    "index_current": {
                      "type": "long"
                    },
                    "index_failed": {
                      "type": "long"
                    },
                    "index_failed_rate": {
                      "type": "long"
                    },
                    "index_last_period": {
                      "type": "long"
                    },
                    "index_latency": {
                      "type": "long"
                    },
                    "index_rate": {
                      "type": "long"
                    },
                    "index_time": {
                      "type": "long"
                    },
                    "index_total": {
                      "type": "long"
                    }
                  }
                },
                "number": {
                  "type": "long"
                },
                "primary": {
                  "type": "boolean"
                },
                "query_cache": {
                  "type": "object",
                  "properties": {
                    "evictions": {
                      "type": "long"
                    },
                    "memory_size": {
                      "type": "long"
                    }
                  }
                },
                "search": {
                  "type": "object",
                  "properties": {
                    "fetch_current": {
                      "type": "long"
                    },
                    "fetch_last_period": {
                      "type": "long"
                    },
                    "fetch_latency": {
                      "type": "long"
                    },
                    "fetch_rate": {
                      "type": "long"
                    },
                    "fetch_time": {
                      "type": "long"
                    },
                    "fetch_total": {
                      "type": "long"
                    },
                    "open_contexts": {
                      "type": "long"
                    },
                    "query_current": {
                      "type": "long"
                    },
                    "query_last_period": {
                      "type": "long"
                    },
                    "query_latency": {
                      "type": "long"
                    },
                    "query_rate": {
                      "type": "long"
                    },
                    "query_time": {
                      "type": "long"
                    },
                    "query_total": {
                      "type": "long"
                    },
                    "scroll_current": {
                      "type": "long"
                    },
                    "scroll_time": {
                      "type": "long"
                    },
                    "scroll_total": {
                      "type": "long"
                    }
                  }
                },
                "state": {
                  "type": "keyword",
                  "ignore_above": 256
                },
                "store": {
                  "type": "object",
                  "properties": {
                    "ingest_rate": {
                      "type": "long"
                    },
                    "size_in_bytes": {
                      "type": "long"
                    }
                  }
                },
                "unassigned": {
                  "type": "object",
                  "properties": {
                    "at": {
                      "type": "date"
                    },
                    "for": {
                      "type": "long"
                    },
                    "reason": {
                      "type": "keyword",
                      "ignore_above": 256
                    }
                  }
                }
              }
            }
          }
        },
        "error": {
          "type": "object",
          "properties": {
            "message": {
              "type": "text",
              "fields": {
                "keyword": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            }
          }
        },
        "event": {
          "type": "object",
          "properties": {
            "dataset": {
              "type": "keyword",
              "ignore_above": 256
            },
            "duration": {
              "type": "long"
            },
            "module": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "host": {
          "type": "object",
          "properties": {
            "hostname": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "http": {
          "type": "object",
          "properties": {
            "request": {
              "type": "object",
              "properties": {
                "method": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            }
          }
        },
        "sample_date": {
          "type": "date"
        },
        "tags": {
          "type": "keyword",
          "ignore_above": 256
        },
        "url": {
          "type": "object",
          "properties": {
            "full": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        }
      }
    }
  },
  "_meta": {
    "description": "The default mappings for the shards monitoring"
  }
}

PUT _component_template/dbeast-mon-logstash-logs-custom-mapping-component
{
  "template": {
    "settings": {
      "index": {
        "analysis": {
          "normalizer": {
            "lowercase_normalizer": {
              "filter": [
                "lowercase",
                "asciifolding"
              ],
              "type": "custom",
              "char_filter": []
            }
          }
        }
      }
    },
    "mappings": {
      "dynamic_templates": [],
      "properties": {
        "logstash": {
          "type": "object",
          "properties": {
            "exception": {
              "type": "object",
              "properties": {
                "mapping_exception_field": {
                  "ignore_above": 256,
                  "type": "keyword"
                },
                "reason": {
                  "ignore_above": 256,
                  "type": "keyword"
                },
                "type": {
                  "ignore_above": 256,
                  "type": "keyword"
                }
              }
            },
            "node": {
              "type": "object",
              "properties": {
                "stats": {
                  "type": "object",
                  "properties": {
                    "pipeline": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "ignore_above": 256,
                          "type": "keyword"
                        }
                      }
                    },
                    "logstash": {
                      "type": "object",
                      "properties": {
                        "host": {
                          "ignore_above": 256,
                          "type": "keyword"
                        }
                      }
                    }
                  }
                }
              }
            },
            "elasticsearch": {
              "type": "object",
              "properties": {
                "cluster": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "ignore_above": 256,
                      "type": "keyword"
                    }
                  }
                }
              }
            },
            "log": {
              "type": "object",
              "properties": {
                "pipeline_listener_port": {
                  "type": "integer"
                },
                "pipeline_action": {
                  "ignore_above": 256,
                  "type": "keyword"
                },
                "module": {
                  "ignore_above": 256,
                  "type": "keyword"
                },
                "pipeline_generated_id": {
                  "ignore_above": 256,
                  "type": "keyword"
                },
                "pipeline_id": {
                  "ignore_above": 256,
                  "type": "keyword"
                },
                "type": {
                  "ignore_above": 256,
                  "type": "keyword"
                },
                "pipeline_name": {
                  "ignore_above": 256,
                  "type": "keyword"
                },
                "pipeline_listener_host": {
                  "type": "ip"
                },
                "timestamp": {
                  "type": "date"
                }
              }
            },
            "message": {
              "type": "text"
            }
          }
        },
        "@timestamp": {
          "type": "date"
        },
        "elasticsearch": {
          "type": "object",
          "properties": {
            "cluster": {
              "type": "object",
              "properties": {
                "id": {
                  "ignore_above": 256,
                  "type": "keyword"
                }
              }
            }
          }
        },
        "log": {
          "type": "object",
          "properties": {
            "file": {
              "type": "object",
              "properties": {
                "path": {
                  "ignore_above": 256,
                  "type": "keyword"
                }
              }
            },
            "level": {
              "ignore_above": 256,
              "type": "keyword"
            }
          }
        },
        "@version": {
          "type": "integer"
        },
        "host": {
          "type": "object",
          "properties": {
            "hostname": {
              "ignore_above": 256,
              "type": "keyword"
            },
			"name": {
              "ignore_above": 256,
              "type": "keyword"
            }
          }
        },
        "event": {
          "type": "object",
          "properties": {
            "original": {
              "type": "text"
            },
            "module": {
              "ignore_above": 256,
              "type": "keyword"
            },
            "dataset": {
              "ignore_above": 256,
              "type": "keyword"
            }
          }
        }
      }
    }
  },
  "_meta": {
    "description": "The default mappings for the Logstash logs"
  }
}

PUT _component_template/dbeast-mon-logstash-metrics-custom-mapping-component
{
  "template": {
    "mappings": {
      "_source": {
        "excludes": [],
        "includes": [],
        "enabled": true
      },
      "_routing": {
        "required": false
      },
      "dynamic": false,
      "dynamic_templates": [],
      "properties": {
        "@timestamp": {
          "index": true,
          "ignore_malformed": false,
          "store": false,
          "type": "date",
          "doc_values": true
        },
        "@version": {
          "type": "long"
        },
        "elasticsearch": {
          "type": "object",
          "properties": {
            "cluster": {
              "type": "object",
              "properties": {
                "id": {
                  "ignore_above": 256,
                  "type": "keyword"
                }
              }
            }
          }
        },
        "event": {
          "type": "object",
          "properties": {
            "dataset": {
              "ignore_above": 256,
              "type": "keyword"
            },
            "module": {
              "ignore_above": 256,
              "type": "keyword"
            }
          }
        },
        "host": {
          "type": "object",
          "properties": {
            "hostname": {
              "ignore_above": 256,
              "type": "keyword"
            }
          }
        },
        "logstash": {
          "type": "object",
          "properties": {
            "elasticsearch": {
              "type": "object",
              "properties": {
                "cluster": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "ignore_above": 256,
                      "type": "keyword"
                    }
                  }
                }
              }
            },
            "log": {
              "type": "object",
              "properties": {
                "pipeline_name": {
                  "ignore_above": 256,
                  "type": "keyword"
                }
              }
            },
            "node": {
              "type": "object",
              "properties": {
                "stats": {
                  "type": "object",
                  "properties": {
                    "events": {
                      "type": "object",
                      "properties": {
                        "duration_in_millis": {
                          "type": "long"
                        },
                        "filtered": {
                          "type": "long"
                        },
                        "filtered_rate": {
                          "type": "long"
                        },
                        "in": {
                          "type": "long"
                        },
                        "in_rate": {
                          "type": "long"
                        },
                        "latency": {
                          "type": "long"
                        },
                        "out": {
                          "type": "long"
                        },
                        "out_rate": {
                          "type": "long"
                        },
                        "queue_push_duration_in_millis": {
                          "type": "long"
                        }
                      }
                    },
                    "jvm": {
                      "type": "object",
                      "properties": {
                        "gc": {
                          "type": "object",
                          "properties": {
                            "collectors": {
                              "type": "object",
                              "properties": {
                                "old": {
                                  "type": "object",
                                  "properties": {
                                    "collection_count": {
                                      "type": "long"
                                    },
                                    "collection_time_in_millis": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "young": {
                                  "type": "object",
                                  "properties": {
                                    "collection_count": {
                                      "type": "long"
                                    },
                                    "collection_time_in_millis": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        },
                        "mem": {
                          "type": "object",
                          "properties": {
                            "heap_committed_in_bytes": {
                              "type": "date"
                            },
                            "heap_max_in_bytes": {
                              "type": "date"
                            },
                            "heap_used_in_bytes": {
                              "type": "long"
                            },
                            "heap_used_percent": {
                              "type": "long"
                            },
                            "non_heap_committed_in_bytes": {
                              "type": "long"
                            },
                            "non_heap_used_in_bytes": {
                              "type": "long"
                            },
                            "pools": {
                              "type": "object",
                              "properties": {
                                "old": {
                                  "type": "object",
                                  "properties": {
                                    "committed_in_bytes": {
                                      "type": "long"
                                    },
                                    "max_in_bytes": {
                                      "type": "date"
                                    },
                                    "peak_max_in_bytes": {
                                      "type": "date"
                                    },
                                    "peak_used_in_bytes": {
                                      "type": "long"
                                    },
                                    "used_in_bytes": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "survivor": {
                                  "type": "object",
                                  "properties": {
                                    "committed_in_bytes": {
                                      "type": "long"
                                    },
                                    "max_in_bytes": {
                                      "type": "long"
                                    },
                                    "peak_max_in_bytes": {
                                      "type": "long"
                                    },
                                    "peak_used_in_bytes": {
                                      "type": "long"
                                    },
                                    "used_in_bytes": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "young": {
                                  "type": "object",
                                  "properties": {
                                    "committed_in_bytes": {
                                      "type": "long"
                                    },
                                    "max_in_bytes": {
                                      "type": "long"
                                    },
                                    "peak_max_in_bytes": {
                                      "type": "long"
                                    },
                                    "peak_used_in_bytes": {
                                      "type": "long"
                                    },
                                    "used_in_bytes": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        },
                        "threads": {
                          "type": "object",
                          "properties": {
                            "count": {
                              "type": "long"
                            },
                            "peak_count": {
                              "type": "long"
                            }
                          }
                        },
                        "uptime_in_millis": {
                          "type": "long"
                        }
                      }
                    },
                    "logstash": {
                      "type": "object",
                      "properties": {
                        "ephemeral_id": {
                          "ignore_above": 256,
                          "type": "keyword"
                        },
                        "host": {
                          "ignore_above": 256,
                          "type": "keyword"
                        },
                        "http_address": {
                          "ignore_above": 256,
                          "type": "keyword"
                        },
                        "id": {
                          "ignore_above": 256,
                          "type": "keyword"
                        },
                        "name": {
                          "ignore_above": 256,
                          "type": "keyword"
                        },
                        "snapshot": {
                          "type": "boolean"
                        },
                        "status": {
                          "ignore_above": 256,
                          "type": "keyword"
                        },
                        "version": {
                          "ignore_above": 256,
                          "type": "keyword"
                        }
                      }
                    },
                    "os": {
                      "type": "object"
                    },
                    "pipeline": {
                      "type": "object",
                      "properties": {
                        "ephemeral_id": {
                          "ignore_above": 256,
                          "type": "keyword"
                        },
                        "ephemeral_id_key": {
                          "ignore_above": 256,
                          "type": "keyword"
                        },
                        "events": {
                          "type": "object",
                          "properties": {
                            "duration_in_millis": {
                              "type": "long"
                            },
                            "failures_rate": {
                              "type": "long"
                            },
                            "filtered": {
                              "type": "long"
                            },
                            "filtered_rate": {
                              "type": "long"
                            },
                            "in": {
                              "type": "long"
                            },
                            "in_rate": {
                              "type": "long"
                            },
                            "out": {
                              "type": "long"
                            },
                            "out_rate": {
                              "type": "long"
                            },
                            "queue_push_duration_in_millis": {
                              "type": "long"
                            }
                          }
                        },
                        "filters_failures": {
                          "type": "long"
                        },
                        "flow": {
                          "dynamic": false,
                          "type": "object"
                        },
                        "hash": {
                          "ignore_above": 256,
                          "type": "keyword"
                        },
                        "id": {
                          "ignore_above": 256,
                          "type": "keyword"
                        },
                        "plugins": {
                          "type": "object",
                          "properties": {
                            "codecs": {
                              "type": "nested",
                              "properties": {
                                "decode": {
                                  "type": "object",
                                  "properties": {
                                    "duration_in_millis": {
                                      "type": "long"
                                    },
                                    "out": {
                                      "type": "long"
                                    },
                                    "writes_in": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "encode": {
                                  "type": "object",
                                  "properties": {
                                    "duration_in_millis": {
                                      "type": "long"
                                    },
                                    "writes_in": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "id": {
                                  "ignore_above": 256,
                                  "type": "keyword"
                                },
                                "name": {
                                  "ignore_above": 256,
                                  "type": "keyword"
                                }
                              }
                            },
                            "filters": {
                              "type": "nested",
                              "properties": {
                                "aggregate_maps": {
                                  "type": "long"
                                },
                                "code_errors": {
                                  "type": "long"
                                },
                                "events": {
                                  "type": "object",
                                  "properties": {
                                    "duration_in_millis": {
                                      "type": "long"
                                    },
                                    "in": {
                                      "type": "long"
                                    },
                                    "in_rate": {
                                      "type": "long"
                                    },
                                    "latency": {
                                      "type": "long"
                                    },
                                    "out": {
                                      "type": "long"
                                    },
                                    "out_rate": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "failures": {
                                  "type": "long"
                                },
                                "failures_rate": {
                                  "type": "long"
                                },
                                "flow": {
                                  "dynamic": false,
                                  "type": "object"
                                },
                                "id": {
                                  "eager_global_ordinals": false,
                                  "norms": false,
                                  "index": true,
                                  "store": false,
                                  "type": "keyword",
                                  "index_options": "docs",
                                  "split_queries_on_whitespace": false,
                                  "doc_values": true
                                },
                                "matches": {
                                  "type": "long"
                                },
                                "name": {
                                  "ignore_above": 256,
                                  "type": "keyword"
                                },
                                "patterns_per_field": {
                                  "type": "object",
                                  "properties": {
                                    "[logstash][exception][reason]": {
                                      "type": "long"
                                    },
                                    "[logstash][message]": {
                                      "type": "long"
                                    },
                                    "message": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            },
                            "inputs": {
                              "type": "object",
                              "properties": {
                                "address": {
                                  "ignore_above": 256,
                                  "type": "keyword"
                                },
                                "current_connections": {
                                  "type": "long"
                                },
                                "events": {
                                  "type": "object",
                                  "properties": {
                                    "out": {
                                      "type": "long"
                                    },
                                    "queue_push_duration_in_millis": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "flow": {
                                  "dynamic": false,
                                  "type": "object"
                                },
                                "id": {
                                  "ignore_above": 256,
                                  "type": "keyword"
                                },
                                "name": {
                                  "ignore_above": 256,
                                  "type": "keyword"
                                },
                                "peak_connections": {
                                  "type": "long"
                                }
                              }
                            },
                            "outputs": {
                              "type": "nested",
                              "properties": {
                                "bulk_requests": {
                                  "type": "object",
                                  "properties": {
                                    "failures": {
                                      "type": "long"
                                    },
                                    "responses": {
                                      "type": "object",
                                      "properties": {
                                        "200": {
                                          "type": "long"
                                        }
                                      }
                                    },
                                    "successes": {
                                      "type": "long"
                                    },
                                    "with_errors": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "documents": {
                                  "type": "object",
                                  "properties": {
                                    "dlq_routed": {
                                      "type": "long"
                                    },
                                    "successes": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "events": {
                                  "type": "object",
                                  "properties": {
                                    "duration_in_millis": {
                                      "type": "long"
                                    },
                                    "in": {
                                      "type": "long"
                                    },
                                    "out": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "flow": {
                                  "dynamic": false,
                                  "type": "object"
                                },
                                "id": {
                                  "ignore_above": 256,
                                  "type": "keyword"
                                },
                                "name": {
                                  "ignore_above": 256,
                                  "type": "keyword"
                                },
                                "send_to": {
                                  "ignore_above": 256,
                                  "type": "keyword"
                                }
                              }
                            }
                          }
                        },
                        "queue": {
                          "type": "object",
                          "properties": {
                            "events_count": {
                              "type": "long"
                            },
                            "max_queue_size_in_bytes": {
                              "type": "long"
                            },
                            "queue_size_in_bytes": {
                              "type": "long"
                            },
                            "type": {
                              "ignore_above": 256,
                              "type": "keyword"
                            }
                          }
                        },
                        "reloads": {
                          "type": "object",
                          "properties": {
                            "failures": {
                              "type": "long"
                            },
                            "last_success_timestamp": {
                              "ignore_above": 256,
                              "type": "keyword"
                            },
                            "successes": {
                              "type": "long"
                            }
                          }
                        },
                        "filters_failures_rate": {
                          "type": "long"
                        }
                      }
                    },
                    "process": {
                      "type": "object",
                      "properties": {
                        "cpu": {
                          "type": "object",
                          "properties": {
                            "load_average": {
                              "type": "object",
                              "properties": {
                                "15m": {
                                  "type": "double"
                                },
                                "1m": {
                                  "type": "double"
                                },
                                "5m": {
                                  "type": "double"
                                }
                              }
                            },
                            "percent": {
                              "type": "long"
                            },
                            "total_in_millis": {
                              "type": "long"
                            }
                          }
                        },
                        "max_file_descriptors": {
                          "type": "long"
                        },
                        "mem": {
                          "type": "object",
                          "properties": {
                            "total_virtual_in_bytes": {
                              "type": "long"
                            }
                          }
                        },
                        "open_file_descriptors": {
                          "type": "long"
                        },
                        "peak_open_file_descriptors": {
                          "type": "long"
                        }
                      }
                    },
                    "queue": {
                      "type": "object",
                      "properties": {
                        "events_count": {
                          "type": "long"
                        }
                      }
                    },
                    "reloads": {
                      "type": "object",
                      "properties": {
                        "failures": {
                          "type": "long"
                        },
                        "successes": {
                          "type": "long"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "metricset": {
          "type": "object",
          "properties": {
            "name": {
              "ignore_above": 256,
              "type": "keyword"
            }
          }
        },
        "pipeline": {
          "type": "object",
          "properties": {
            "batch_delay": {
              "type": "long"
            },
            "batch_size": {
              "type": "long"
            },
            "workers": {
              "type": "long"
            }
          }
        },
        "sample_date": {
          "type": "date"
        },
        "tags": {
          "ignore_above": 256,
          "type": "keyword"
        }
      }
    }
  },
  "_meta": {
    "description": "The default mappings for the Logstash metrics"
  }
}

PUT _component_template/dbeast-mon-es-ingest_pipelines-mapping-component
{
  "template" : {
    "settings" : { },
    "mappings" : {
      "properties" : {
        "@timestamp" : {
          "type" : "date"
        },
        "elasticsearch" : {
          "properties" : {
            "cluster" : {
              "properties" : {
                "id" : {
                  "type" : "keyword",
                  "ignore_above" : 256
                }
              }
            },
            "node" : {
              "properties" : {
                "stats" : {
                  "properties" : {
                    "ingest_pipeline" : {
                      "properties" : {
                        "current" : {
                          "type" : "long"
                        },
                        "time_in_millis" : {
                          "type" : "long"
                        },
                        "count" : {
                          "type" : "long"
                        },
                        "in_rate" : {
                          "type" : "long"
                        },
                        "processors" : {
                          "type" : "nested",
                          "properties" : {
                            "number_in_pipeline" : {
                              "type" : "long"
                            },
                            "stats" : {
                              "properties" : {
                                "current" : {
                                  "type" : "long"
                                },
                                "time_in_millis" : {
                                  "type" : "long"
                                },
                                "count" : {
                                  "type" : "long"
                                },
                                "failed" : {
                                  "type" : "long"
                                }
                              }
                            },
                            "id" : {
                              "type" : "keyword",
                              "ignore_above" : 256
                            },
                            "type" : {
                              "type" : "keyword",
                              "ignore_above" : 256
                            }
                          }
                        },
                        "failed" : {
                          "type" : "long"
                        },
                        "id" : {
                          "type" : "keyword",
                          "ignore_above" : 256
                        }
                      }
                    },
                    "ingest" : {
                      "properties" : {
                        "enrich" : {
                          "properties" : {
                            "cache_stats" : {
                              "properties" : {
                                "hits" : {
                                  "type" : "long"
                                },
                                "misses" : {
                                  "type" : "long"
                                },
                                "hits_rate" : {
                                  "type" : "long"
                                },
                                "evictions" : {
                                  "type" : "long"
                                },
                                "count" : {
                                  "type" : "long"
                                },
                                "hits_last_period" : {
                                  "type" : "long"
                                }
                              }
                            },
                            "coordinator_stats" : {
                              "properties" : {
                                "executed_searches_total" : {
                                  "type" : "long"
                                },
                                "executed_searches_rate" : {
                                  "type" : "long"
                                },
                                "executed_searches_last_period" : {
                                  "type" : "long"
                                },
                                "queue_size" : {
                                  "type" : "long"
                                },
                                "remote_requests_current" : {
                                  "type" : "long"
                                },
                                "remote_requests_total" : {
                                  "type" : "long"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "name" : {
                  "type" : "keyword",
                  "ignore_above" : 256
                },
                "id" : {
                  "type" : "keyword",
                  "ignore_above" : 256
                }
              }
            }
          }
        },
        "sample_date" : {
          "type" : "date"
        },
        "@version" : {
          "type" : "integer"
        },
        "metricset" : {
          "properties" : {
            "name" : {
              "type" : "keyword",
              "ignore_above" : 256
            }
          }
        },
        "event" : {
          "properties" : {
            "dataset" : {
              "type" : "keyword",
              "ignore_above" : 256
            },
            "module" : {
              "type" : "keyword",
              "ignore_above" : 256
            }
          }
        },
        "tags" : {
          "type" : "keyword",
          "ignore_above" : 256
        }
      }
    },
    "aliases" : { }
  }
}

PUT _component_template/dbeast-mon-es-thread_pools-mapping-component
{
  "template" : {
    "settings" : { },
    "mappings" : {
      "properties" : {
        "@timestamp" : {
          "type" : "date"
        },
        "elasticsearch" : {
          "properties" : {
            "node" : {
              "properties" : {
                "stats" : {
                  "properties" : {
                    "thread_pool" : {
                      "properties" : {
                        "completed_rate" : {
                          "type" : "integer"
                        },
                        "largest" : {
                          "type" : "integer"
                        },
                        "queue_size" : {
                          "type" : "integer"
                        },
                        "max" : {
                          "type" : "integer"
                        },
                        "rejected" : {
                          "type" : "integer"
                        },
                        "rejected_rate" : {
                          "type" : "integer"
                        },
                        "pool_size" : {
                          "type" : "integer"
                        },
                        "active" : {
                          "type" : "integer"
                        },
                        "completed" : {
                          "type" : "integer"
                        },
                        "type" : {
                          "type" : "keyword",
                          "ignore_above" : 256
                        },
                        "core" : {
                          "type" : "integer"
                        },
                        "size" : {
                          "type" : "integer"
                        },
                        "name" : {
                          "type" : "keyword",
                          "ignore_above" : 256
                        },
                        "@version" : {
                          "type" : "integer"
                        },
                        "host" : {
                          "type" : "ip"
                        },
                        "keep_alive" : {
                          "type" : "keyword",
                          "ignore_above" : 256
                        },
                        "queue" : {
                          "type" : "integer"
                        }
                      }
                    }
                  }
                },
                "port" : {
                  "type" : "integer"
                },
                "ip" : {
                  "type" : "ip"
                },
                "name" : {
                  "type" : "keyword",
                  "ignore_above" : 256
                },
                "pid" : {
                  "type" : "integer"
                },
                "id" : {
                  "type" : "keyword",
                  "ignore_above" : 256
                },
                "ephemeral_node_id" : {
                  "type" : "keyword",
                  "ignore_above" : 256
                }
              }
            },
            "cluster" : {
              "properties" : {
                "id" : {
                  "type" : "keyword",
                  "ignore_above" : 256
                }
              }
            }
          }
        },
        "event" : {
          "properties" : {
            "module" : {
              "type" : "keyword",
              "ignore_above" : 256
            },
            "dataset" : {
              "type" : "keyword",
              "ignore_above" : 256
            }
          }
        }
      }
    },
    "aliases" : { }
  }
}

PUT _component_template/dbeast-mon-es-tasks-mapping-component
{
  "template": {
    "settings": {},
    "mappings": {
      "properties": {
        "@timestamp": {
          "type": "date"
        },
        "@version": {
          "type": "integer"
        },
        "elasticsearch": {
          "properties": {
            "cluster": {
              "properties": {
                "id": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            },
            "task": {
              "properties": {
                "action": {
                  "type": "keyword",
                  "ignore_above": 256
                },
                "description": {
                  "type": "text"
                },
                "ip": {
                  "type": "ip"
                },
                "node": {
                  "type": "keyword",
                  "ignore_above": 256
                },
                "parent_task_id": {
                  "type": "keyword",
                  "ignore_above": 256
                },
                "query": {
                  "properties": {
                    "aggregations": {
                      "type": "text"
                    },
                    "aggregations_levels": {
                      "type": "integer"
                    },
                    "query": {
                      "type": "text"
                    },
                    "query_uid": {
                      "type": "keyword",
                      "ignore_above": 256
                    },
                    "sort": {
                      "type": "keyword",
                      "ignore_above": 256
                    }
                  }
                },
                "request": {
                  "properties": {
                    "bulk_size": {
                      "type": "integer"
                    },
                    "index_list": {
                      "type": "keyword",
                      "ignore_above": 256
                    },
                    "index_number": {
                      "type": "integer"
                    },
                    "index_pattern": {
                      "type": "keyword"
                    },
                    "query": {
                      "type": "text"
                    },
                    "search_type": {
                      "type": "keyword",
                      "ignore_above": 256
                    },
                    "shard_number": {
                      "type": "integer"
                    }
                  }
                },
                "running_time": {
                  "type": "integer"
                },
                "start_time": {
                  "type": "date"
                },
                "task_id": {
                  "type": "keyword",
                  "ignore_above": 256
                },
                "timestamp": {
                  "type": "keyword",
                  "ignore_above": 256
                },
                "type": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            }
          }
        },
        "error": {
          "properties": {
            "message": {
              "type": "text"
            }
          }
        },
        "event": {
          "properties": {
            "dataset": {
              "type": "keyword",
              "ignore_above": 256
            },
            "duration": {
              "type": "long"
            },
            "module": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "host": {
          "properties": {
            "hostname": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "http": {
          "properties": {
            "request": {
              "properties": {
                "method": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            }
          }
        },
        "metricset": {
          "properties": {
            "name": {
              "type": "keyword",
              "ignore_above": 256
            }
          }
        },
        "tags": {
          "type": "keyword",
          "ignore_above": 256
        },
        "url": {
          "properties": {
            "full": {
              "type": "text",
              "fields": {
                "keyword": {
                  "type": "keyword",
                  "ignore_above": 256
                }
              }
            }
          }
        }
      }
    },
    "aliases": {}
  }
}

